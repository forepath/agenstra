flowchart TB
    subgraph ADMIN["ğŸ”· Admin API (Service Config)"]
        direction TB
        ADMIN_USE["Use Case: Configure Products & Pricing"]
        ADMIN_USE --> ADMIN1["ğŸ§© Service Types<br/>GET /service-types<br/>GET /service-types/providers<br/>GET /service-types/providers/:id/server-types<br/>POST /service-types<br/>POST /service-types/:id<br/>DELETE /service-types/:id"]
        ADMIN_USE --> ADMIN2["ğŸ’³ Service Plans<br/>GET /service-plans<br/>POST /service-plans<br/>POST /service-plans/:id<br/>DELETE /service-plans/:id"]
    end

    subgraph USER["ğŸ‘¤ User API (Subscriptions)"]
        direction TB
        USER_USE["Use Case: Order & Manage Subscriptions"]
        USER_USE --> USER1["ğŸ“ Create Subscription<br/>POST /subscriptions"]
        USER_USE --> USER2["ğŸ“‹ List Subscriptions<br/>GET /subscriptions"]
        USER_USE --> USER3["ğŸ” Get Subscription<br/>GET /subscriptions/:id"]
        USER_USE --> USER4["âœ– Cancel Subscription<br/>POST /subscriptions/:id/cancel"]
        USER_USE --> USER5["â–¶ Resume Subscription<br/>POST /subscriptions/:id/resume"]
    end

    subgraph BILLING["ğŸ§¾ Billing & Invoices"]
        direction TB
        BILL_USE["Use Case: Pricing + Invoices"]
        BILL_USE --> BILL1["ğŸ’° Pricing Preview<br/>POST /pricing/preview"]
        BILL_USE --> BILL2["ğŸ§¾ List Invoices<br/>GET /invoices/:subscriptionId"]
        BILL_USE --> BILL3["â• Create Invoice<br/>POST /invoices/:subscriptionId"]
        BILL_USE --> BILL4["ğŸ“Š Usage Summary<br/>GET /usage/summary/:subscriptionId"]
        BILL_USE --> BILL5["ğŸ“¥ Record Usage<br/>POST /usage/record"]
    end

    subgraph PROFILE["ğŸ‘¤ Customer Profile"]
        direction TB
        PROFILE_USE["Use Case: Billing Metadata"]
        PROFILE_USE --> PROFILE1["ğŸ“„ Get Profile<br/>GET /customer-profile"]
        PROFILE_USE --> PROFILE2["âœï¸ Update Profile<br/>POST /customer-profile"]
    end

    subgraph AVAIL["âš™ï¸ Availability & Backorders"]
        direction TB
        AVAIL_USE["Use Case: Capacity + Retry"]
        AVAIL_USE --> AVAIL1["âœ… Check Availability<br/>POST /availability/check"]
        AVAIL_USE --> AVAIL2["ğŸ§­ Alternatives<br/>POST /availability/alternatives"]
        AVAIL_USE --> AVAIL3["ğŸ“‹ List Backorders<br/>GET /backorders"]
        AVAIL_USE --> AVAIL4["ğŸ” Retry Backorder<br/>POST /backorders/:id/retry"]
        AVAIL_USE --> AVAIL5["ğŸ—‘ï¸ Cancel Backorder<br/>POST /backorders/:id/cancel"]
    end

    Start([Billing Feature]) --> ADMIN
    Start --> USER
    Start --> BILLING
    Start --> PROFILE
    Start --> AVAIL

    style ADMIN fill:#e6f0ff,stroke:#4a90e2,stroke-width:3px
    style USER fill:#f0e6ff,stroke:#8c42ff,stroke-width:3px
    style BILLING fill:#e6ffe6,stroke:#4a9e2,stroke-width:3px
    style PROFILE fill:#fff0e6,stroke:#ff6b42,stroke-width:3px
    style AVAIL fill:#fff4e6,stroke:#ff8c42,stroke-width:3px
    style ADMIN_USE fill:#d6e9ff,stroke:#4a90e2
    style USER_USE fill:#e6d6ff,stroke:#8c42ff
    style BILL_USE fill:#d6ffd6,stroke:#4a9e2
    style PROFILE_USE fill:#ffe6d6,stroke:#ff6b42
    style AVAIL_USE fill:#ffe6cc,stroke:#ff8c42
