<!-- Hero Section - One-command setup -->
<section id="hero" class="py-10 bg-body-tertiary position-relative overflow-hidden">
  <div class="gradient-overlay gradient-overlay-hero"></div>
  <div class="container position-relative">
    <div class="row align-items-center">
      <div class="col-lg-6 mb-4 mb-lg-0 text-center text-lg-start">
        <h1 class="display-4 fw-bold mb-4"><span class="text-primary">Unified Context</span> for AI Coding Tools</h1>
        <p class="mb-4 fs-5">
          Define rules, commands, skills, and agents once in a single <code class="text-primary">.agenstra/</code>
          folder. AgentCTX turns that context into tool-specific config for Cursor, OpenCode, and GitHub Copilot.
        </p>
        <p class="mb-5">
          Install the <strong>agentctx</strong> CLI with one command. Run it in your project root and it writes
          <code>.cursor/</code>, <code>.opencode/</code>, and <code>.github/</code> for you - no duplicate config, no
          lock-in.
        </p>
        <div class="d-flex flex-column flex-sm-row gap-3">
          <a routerLink="." fragment="how" class="btn btn-primary py-2 px-4">How it works</a>
          <a
            href="https://docs.agenstra.com/agenstra/ai-agents/agentctx"
            class="btn btn-outline-primary py-2 px-4"
            target="_blank"
            rel="noopener noreferrer"
            >Documentation</a
          >
        </div>
      </div>
      <div class="col-lg-5 offset-lg-1 position-relative mt-5 mt-lg-0">
        <div class="hero-install-card card border shadow-sm bg-body overflow-hidden">
          <div class="card-body p-4">
            <div class="d-flex align-items-center justify-content-between mb-3">
              <span class="text-muted small">Install AgentCTX</span>
              <button
                type="button"
                class="btn btn-sm btn-outline-secondary d-flex align-items-center gap-2"
                (click)="copyInstallCommand()"
              >
                @if (copyInstallFeedback) {
                  <i class="bi bi-check2"></i>
                  <span>Copied</span>
                } @else {
                  <i class="bi bi-clipboard"></i>
                  <span>Copy</span>
                }
              </button>
            </div>
            <pre class="hero-install-pre mb-3 bg-body-tertiary p-3 rounded"><code>{{ installCommand }}</code></pre>
            <div class="d-flex align-items-center justify-content-between mb-3">
              <span class="text-muted small">Convert your AI context</span>
              <button
                type="button"
                class="btn btn-sm btn-outline-secondary d-flex align-items-center gap-2"
                (click)="copyRunCommand()"
              >
                @if (copyRunFeedback) {
                  <i class="bi bi-check2"></i>
                  <span>Copied</span>
                } @else {
                  <i class="bi bi-clipboard"></i>
                  <span>Copy</span>
                }
              </button>
            </div>
            <pre class="hero-install-pre mb-0 bg-body-tertiary p-3 rounded"><code>{{ runCommand }}</code></pre>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- How it works - .agenstra branches to tools -->
<section id="how" class="py-10">
  <div class="container">
    <div class="row">
      <div class="col-md-12 text-center mb-5">
        <h2 class="display-5 fw-bold mb-3">One folder, every tool</h2>
        <p class="lead text-muted">
          Your <code>.agenstra/</code> context is the single source of truth. AgentCTX transforms it into the directory
          structure and files each tool expects - so you maintain one set of rules, commands, skills, and agents.
        </p>
      </div>
    </div>
    <div class="row justify-content-center mb-5">
      <div class="col-md-12">
        <!-- Placeholder for graphic: .agenstra folder branching to .cursor, .opencode, .github -->
        <div
          class="agentctx-diagram-wrapper rounded overflow-hidden border shadow-sm bg-body-tertiary position-relative p-5"
        >
          <div class="agentctx-diagram-placeholder d-flex align-items-center justify-content-center">
            <div class="text-center">
              <svg
                class="agentctx-diagram-svg w-100 h-auto"
                viewBox="0 0 400 220"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
              >
                <!-- .agenstra root -->
                <g>
                  <rect
                    x="150"
                    y="20"
                    width="100"
                    height="44"
                    rx="6"
                    fill="var(--bs-primary)"
                    opacity="0.15"
                    stroke="var(--bs-primary)"
                    stroke-width="2"
                  />
                  <text
                    x="200"
                    y="45"
                    text-anchor="middle"
                    font-family="ui-monospace, monospace"
                    font-size="14"
                    font-weight="600"
                    fill="var(--bs-primary)"
                  >
                    .agenstra
                  </text>
                </g>
                <!-- Branches -->
                <path
                  d="M 200 64 L 200 90 L 80 90 L 80 130"
                  stroke="var(--bs-primary)"
                  stroke-width="2"
                  fill="none"
                  stroke-dasharray="4 2"
                  opacity="0.7"
                />
                <path
                  d="M 200 64 L 200 90 L 200 130"
                  stroke="var(--bs-primary)"
                  stroke-width="2"
                  fill="none"
                  stroke-dasharray="4 2"
                  opacity="0.7"
                />
                <path
                  d="M 200 64 L 200 90 L 320 90 L 320 130"
                  stroke="var(--bs-primary)"
                  stroke-width="2"
                  fill="none"
                  stroke-dasharray="4 2"
                  opacity="0.7"
                />
                <!-- Tool outputs -->
                <g>
                  <rect
                    x="30"
                    y="130"
                    width="100"
                    height="36"
                    rx="6"
                    fill="var(--bs-body-bg)"
                    stroke="var(--bs-border-color)"
                    stroke-width="1.5"
                  />
                  <text
                    x="80"
                    y="152"
                    text-anchor="middle"
                    font-family="ui-monospace, monospace"
                    font-size="12"
                    fill="var(--bs-body-color)"
                  >
                    .cursor
                  </text>
                </g>
                <g>
                  <rect
                    x="150"
                    y="130"
                    width="100"
                    height="36"
                    rx="6"
                    fill="var(--bs-body-bg)"
                    stroke="var(--bs-border-color)"
                    stroke-width="1.5"
                  />
                  <text
                    x="200"
                    y="152"
                    text-anchor="middle"
                    font-family="ui-monospace, monospace"
                    font-size="12"
                    fill="var(--bs-body-color)"
                  >
                    .opencode
                  </text>
                </g>
                <g>
                  <rect
                    x="270"
                    y="130"
                    width="100"
                    height="36"
                    rx="6"
                    fill="var(--bs-body-bg)"
                    stroke="var(--bs-border-color)"
                    stroke-width="1.5"
                  />
                  <text
                    x="320"
                    y="152"
                    text-anchor="middle"
                    font-family="ui-monospace, monospace"
                    font-size="12"
                    fill="var(--bs-body-color)"
                  >
                    .github
                  </text>
                </g>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row g-4">
      <div class="col-lg-4">
        <div class="card h-100 border shadow-sm">
          <div class="card-body text-center p-5">
            <div class="mb-4">
              <i class="bi bi-folder2-open text-primary lh-1" style="font-size: 2.5rem"></i>
            </div>
            <h3 class="h5 fw-bold mb-3">Validate &amp; transform</h3>
            <p class="text-muted mb-0">
              AgentCTX checks that your <code>.agenstra/</code> context is valid (e.g. <code>metadata.json</code> and
              structure), then emits the right files and folders for each target tool. Run with no arguments and it
              writes <code>.cursor</code>, <code>.opencode</code>, and <code>.github</code> into your project root.
            </p>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card h-100 border shadow-sm">
          <div class="card-body text-center p-5">
            <div class="mb-4">
              <i class="bi bi-braces text-primary lh-1" style="font-size: 2.5rem"></i>
            </div>
            <h3 class="h5 fw-bold mb-3">Cursor, OpenCode, GitHub Copilot</h3>
            <p class="text-muted mb-0">
              One context drives rules, commands, skills, agents, and MCP definitions for all three. No duplicate edits
              - change a rule or command once and regenerate. Override specific files via
              <code>.agenstra/overrides/</code> when you need tool-specific tweaks.
            </p>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card h-100 border shadow-sm">
          <div class="card-body text-center p-5">
            <div class="mb-4">
              <i class="bi bi-code-slash text-primary lh-1" style="font-size: 2.5rem"></i>
            </div>
            <h3 class="h5 fw-bold mb-3">Tool-agnostic source</h3>
            <p class="text-muted mb-0">
              Your <code>.agenstra/</code> files are plain MDC (Markdown with YAML frontmatter). Commit them to git and
              share across the team. Add AgentCTX to CI or a post-merge hook to keep generated configs in sync, or run
              <code>agentctx</code> locally whenever you change context.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Supported tools -->
<section id="tools" class="py-10 bg-body-tertiary position-relative overflow-hidden">
  <div class="gradient-overlay gradient-overlay-features"></div>
  <div class="container position-relative">
    <div class="row">
      <div class="col-md-12 text-center mb-4">
        <h2 class="display-5 fw-bold mb-3">Output for your stack</h2>
        <p class="text-muted mb-0">AgentCTX generates config for these tools from a single context.</p>
      </div>
    </div>
    <div class="row align-items-center justify-content-center g-4">
      <div class="col-6 col-md-3 col-lg-2 text-center">
        <img
          src="assets/images/logos/cursor.svg"
          alt="Cursor"
          class="img-fluid logo-partner"
          style="max-height: 28px; filter: grayscale(100%) opacity(0.6); transition: all 0.3s ease"
        />
      </div>
      <div class="col-6 col-md-3 col-lg-2 text-center">
        <img
          src="assets/images/logos/opencode.svg"
          alt="OpenCode"
          class="img-fluid logo-partner"
          style="max-height: 28px; filter: grayscale(100%) opacity(0.6); transition: all 0.3s ease"
        />
      </div>
      <div class="col-6 col-md-3 col-lg-2 text-center">
        <img
          src="assets/images/logos/github-copilot.svg"
          alt="GitHub Copilot"
          class="img-fluid logo-partner"
          style="max-height: 28px; filter: grayscale(100%) opacity(0.6); transition: all 0.3s ease"
        />
      </div>
    </div>
  </div>
</section>

<!-- CTA - same background as Security & Data on home -->
<section id="ecosystem" class="py-10 bg-primary text-white position-relative overflow-hidden">
  <div class="gradient-overlay gradient-overlay-compliance"></div>
  <div class="container position-relative">
    <div class="row">
      <div class="col-md-12 text-center">
        <h2 class="display-6 fw-bold mb-3">Part of the Agenstra ecosystem</h2>
        <p class="lead mb-0 text-white">
          AgentCTX is the easiest way to get started with a single source of truth for AI coding tools. Agenstra has you
          covered, when you need centralized control over distributed agent infrastructure, including multiple servers,
          real-time interaction, web IDE.
        </p>
        <div class="mt-5">
          <a routerLink="/" fragment="hero" class="btn btn-light py-2 px-4">Learn about Agenstra</a>
        </div>
      </div>
    </div>
  </div>
</section>
